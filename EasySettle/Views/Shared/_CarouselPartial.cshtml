@model IEnumerable<EasySettle.Models.PropertyViewModel>
@functions {
    public string FormatRoomsAndBaths(decimal number)
    {
        // Check if the decimal part is zero
        if (number % 1 == 0)
        {
            // No decimal part, format as integer
            return number.ToString("0");
        }
        else
        {
            // There is a decimal part, format with one decimal place
            return number.ToString("0.#");
        }
    }
}

<body>
    @if (Model.Any())
    {
        <!-- Dynamic Shop Section Begin -->
        <section>
            <div class="container-fluid">
                <div class="row">
                    @foreach (var propertyViewModel in Model)
                    {
                        <div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="">
                                <div class="set-bg" style="position: relative;">
                                    <!-- Begin Carousel Code -->
                                    <div id="@($"carouselExample{propertyViewModel.Property.PropertyID}")" class="carousel slide" data-bs-ride="carousel" data-bs-interval="5000">
                                        <div class="carousel-inner">
                                            @for (int i = 0; i < propertyViewModel.ImageUrls.Count; i++)
                                            {
                                            <div class="carousel-item @(i == 0 ? "active" : "")">
                                                <a href="@Url.Action("Details", "Property", new { id = propertyViewModel.Property.PropertyID })">
                                                <img src="@propertyViewModel.ImageUrls[i]" class="d-block w-100" alt="@propertyViewModel.Property.PropertyID">
                                                </a>
                                            </div>
                                            }
                                        </div>
                                        <!-- Category Label start-->
                                        <div class="category-label btn btn-outline-warning btn-sm fs-7 fw-light ">
                                            @propertyViewModel.Property.Type
                                        </div> 
                                    
                                        <!-- Category Label end-->  
                                    <button class="carousel-control-prev" type="button" data-bs-target="@($"#carouselExample{propertyViewModel.Property.PropertyID}")" data-bs-slide="prev">
                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Previous</span>
                                    </button>
                                    <button class="carousel-control-next" type="button" data-bs-target="@($"#carouselExample{propertyViewModel.Property.PropertyID}")" data-bs-slide="next">
                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                        <span class="visually-hidden">Next</span>
                                    </button>
                                    </div>
                                    <!-- End Carousel Code --> 
                                
                                </div>
                                <div class="fs-7 text-center mt-3 mb-3">                               
                                    <div>
                                        @($"{FormatRoomsAndBaths(propertyViewModel.Property.Rooms)}BR {FormatRoomsAndBaths(propertyViewModel.Property.BathRooms)}B")
                                    </div>
                                    <div>
                                        <span class="m-1 p-1 border-warning border-bottom border-3">
                                            $@propertyViewModel.Property.Rent.ToString("0")
                                        </span>                                
                                    </div>                         
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </section>
        <!-- Dynamic Shop Section End -->
    } 
    else
    {
        <p>No items found in the selected search.</p>
    }    

    <style>
        .category-label {
            font-size: 10px;
            position: absolute;
            top: 5px; /* Aligns the label to the top */
            left: 5px; /* Aligns the label to the left corner */
            transform: translateX(0%); /* Remove translation to keep it at the top-left corner */
            z-index: 2; /* Ensure it's above the carousel images */
            padding: 5px; /* Add some padding around the text */
        }
        .carousel-item img {
            width: 300px; /* Fixed width */
            height: 200px; /* Fixed height */
            object-fit: cover; /* Cover ensures that aspect ratios are maintained while filling the container */
            object-position: center; /* Center the image within the container */
        }        
    </style>    
</body>
